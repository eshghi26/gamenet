!function(){"use strict";var s=["1","2","3","4","5","6","7","8","9","T","J","Q","K","A"];class a{constructor(a){this.value=a.substr(0,1),this.suit=a.substr(1,1).toLowerCase(),this.rank=s.indexOf(this.value),this.wildValue=a.substr(0,1)}toString(){return this.wildValue.replace("T","10")+this.suit}static sort(s,a){return s.rank>a.rank?-1:s.rank<a.rank?1:0}}class t{constructor(s,t,i,e){if(this.cardPool=[],this.cards=[],this.suits={},this.values=[],this.wilds=[],this.name=t,this.game=i,this.sfLength=0,this.alwaysQualifies=!0,e&&this.game.lowestQualified&&(this.alwaysQualifies=!1),"standard"===i.descr&&new Set(s).size!==s.length)throw new Error("Duplicate cards");for(var r,h,l,d,n,c=this.game.handValues.length,u=0;u<this.game.handValues.length&&this.game.handValues[u]!==this.constructor;u++);for(this.rank=c-u,this.cardPool=s.map(function(s){return"string"==typeof s?new a(s):s}),u=0;u<this.cardPool.length;u++)(n=this.cardPool[u]).value===this.game.wildValue&&(n.rank=-1);for(this.cardPool=this.cardPool.sort(a.sort),u=0;u<this.cardPool.length;u++)-1===(n=this.cardPool[u]).rank?this.wilds.push(n):((r=this.suits)[l=n.suit]||(r[l]=[]),(h=this.values)[d=n.rank]||(h[d]=[]),this.suits[n.suit].push(n),this.values[n.rank].push(n));this.values.reverse(),this.isPossible=this.solve()}compare(s){if(this.rank<s.rank)return 1;if(this.rank>s.rank)return-1;for(var a=0,t=0;t<=4;t++){if(this.cards[t]&&s.cards[t]&&this.cards[t].rank<s.cards[t].rank){a=1;break}if(this.cards[t]&&s.cards[t]&&this.cards[t].rank>s.cards[t].rank){a=-1;break}}return a}loseTo(s){return this.compare(s)>0}getNumCardsByRank(a){for(var t=this.values[a],i=t?t.length:0,e=0;e<this.wilds.length;e++)this.wilds[e].rank>-1||(t?1!==this.game.wildStatus&&t[0].rank!==s.length-1||(i+=1):1!==this.game.wildStatus&&a!==s.length-1||(i+=1));return i}getCardsForFlush(t,i){for(var e=(this.suits[t]||[]).sort(a.sort),r=0;r<this.wilds.length;r++){var h=this.wilds[r];if(i){for(var l=0;l<s.length&&l<e.length&&e[l].rank===s.length-1-l;)l+=1;h.rank=s.length-1-l,h.wildValue=s[h.rank]}e.push(h),e=e.sort(a.sort)}return e}resetWildCards(){for(var s=0;s<this.wilds.length;s++)this.wilds[s].rank=-1,this.wilds[s].wildValue=this.wilds[s].value}nextHighest(){var t,i=[];if(i=i.concat(this.cards),t=this.cardPool.filter(function(s){if(i.indexOf(s)<0)return!0}),0===this.game.wildStatus){for(var e=0;e<t.length;e++){var r=t[e];-1===r.rank&&(r.wildValue="A",r.rank=s.length-1)}t=t.sort(a.sort)}return t}toString(){return this.cards.map(function(s){return s.toString()}).join(", ")}toArray(){return this.cards.map(function(s){return s.toString()})}qualifiesHigh(){return!(this.game.lowestQualified&&!this.alwaysQualifies)||this.compare(t.solve(this.game.lowestQualified,this.game))<=0}static winners(s){s=s.filter(function(s){return s.qualifiesHigh()});var a=Math.max.apply(Math,s.map(function(s){return s.rank}));return s=(s=s.filter(function(s){return s.rank===a})).filter(function(a){for(var t=!1,i=0;i<s.length&&!(t=a.loseTo(s[i]));i++);return!t})}static solve(s,a,t){s=s||[""];for(var i=(a="string"==typeof(a=a||"standard")?new S(a):a).handValues,e=null,r=0;r<i.length&&!(e=new i[r](s,a,t)).isPossible;r++);return e}static stripWilds(s,a){var t,i;s=s||[""],t=[],i=[];for(var e=0;e<s.length;e++)-1===s[e].rank?t.push(s[e]):i.push(s[e]);return[t,i]}}class i extends t{constructor(s,a,t){super(s,"Straight Flush",a,t)}solve(){var s;this.resetWildCards();var a=null,i=[];for(var e in this.suits)if((s=this.getCardsForFlush(e,!1))&&s.length>=this.game.sfQualify){a=s;break}if(a){if("standard"!==this.game.descr)for(var e in this.suits)a[0].suit!==e&&(i=i.concat(this.suits[e]||[]),i=t.stripWilds(i,this.game)[1]);var r=new f(a,this.game);r.isPossible&&(this.cards=r.cards,this.cards=this.cards.concat(i),this.sfLength=r.sfLength)}return this.cards[0]&&13===this.cards[0].rank?this.descr="Royal Flush":this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+e+" High"),this.cards.length>=this.game.sfQualify}}class e extends i{constructor(s,a,t){super(s,a,t)}solve(){return this.resetWildCards(),super.solve()&&"Royal Flush"===this.descr}}class r extends e{constructor(s,a,t){super(s,a,t)}solve(){var s=0;this.resetWildCards();var a=super.solve();if(a&&this.cards){for(s=0;s<this.game.sfQualify&&s<this.cards.length;s++)if(this.cards[s].value===this.game.wildValue){a=!1,this.descr="Wild Royal Flush";break}s===this.game.sfQualify&&(this.descr="Royal Flush")}return a}}class h extends e{constructor(s,a,t){super(s,a,t)}solve(){var s=0;this.resetWildCards();var a=super.solve();if(a&&this.cards){for(s=0;s<this.game.sfQualify&&s<this.cards.length;s++)if(this.cards[s].value===this.game.wildValue){this.descr="Wild Royal Flush";break}s===this.game.sfQualify&&(a=!1,this.descr="Royal Flush")}return a}}class l extends t{constructor(s,a,t){super(s,"Five of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(5===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<5;t++){var i=this.wilds[t];i.rank=this.cards?this.cards[0].rank:s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-5));break}return this.cards.length>=5&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=5}}class d extends t{constructor(s,a,t){super(s,"Four of a Kind with Pair or Better",a,t)}solve(){var a;this.resetWildCards();for(var t=0;t<this.values.length;t++)if(4===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var i=0;i<this.wilds.length&&this.cards.length<4;i++)(e=this.wilds[i]).rank=this.cards?this.cards[0].rank:s.length-1,e.wildValue=s[e.rank],this.cards.push(e);break}if(4===this.cards.length)for(t=0;t<this.values.length;t++)if((!(a=this.values[t])||this.cards[0].wildValue!==a[0].wildValue)&&this.getNumCardsByRank(t)>=2){for(this.cards=this.cards.concat(a||[]),i=0;i<this.wilds.length;i++){var e;-1===(e=this.wilds[i]).rank&&(e.rank=a?a[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(this.cards.length>=6){var r=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[4].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=6}}class n extends t{constructor(s,a,t){super(s,"Four of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(4===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<4;t++){var i=this.wilds[t];i.rank=this.cards?this.cards[0].rank:s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}return this.cards.length>=4&&(this.game.noKickers&&(this.cards.length=4),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=4}}class c extends t{constructor(s,a,t){super(s,"Four Wild Cards",a,t)}solve(){return 4===this.wilds.length&&(this.cards=this.wilds,this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4))),this.cards.length>=4&&(this.game.noKickers&&(this.cards.length=4),this.descr=this.name),this.cards.length>=4}}class u extends t{constructor(s,a,t){super(s,"Three of a Kind with Two Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(3===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<3;t++)(e=this.wilds[t]).rank=this.cards?this.cards[0].rank:s.length-1,e.wildValue=s[e.rank],this.cards.push(e);break}if(3===this.cards.length)for(a=0;a<this.values.length;a++){var i;if(!(i=this.values[a])||this.cards[0].wildValue!==i[0].wildValue){if(this.cards.length>5&&2===this.getNumCardsByRank(a)){for(this.cards=this.cards.concat(i||[]),t=0;t<this.wilds.length;t++)-1===(e=this.wilds[t]).rank&&(e.rank=i?i[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e));this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}if(2===this.getNumCardsByRank(a))for(this.cards=this.cards.concat(i),t=0;t<this.wilds.length;t++){var e;-1===(e=this.wilds[t]).rank&&(e.rank=i?i[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e))}}}if(this.cards.length>=7){var r=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[3].toString().slice(0,-1)+"'s & "+this.cards[5].value+"'s";this.descr=this.name+", "+r}return this.cards.length>=7}}class o extends t{constructor(s,a,t){super(s,"Full House",a,t)}solve(){var a;this.resetWildCards();for(var t=0;t<this.values.length;t++)if(3===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var i=0;i<this.wilds.length&&this.cards.length<3;i++)(e=this.wilds[i]).rank=this.cards?this.cards[0].rank:s.length-1,e.wildValue=s[e.rank],this.cards.push(e);break}if(3===this.cards.length)for(t=0;t<this.values.length;t++)if((!(a=this.values[t])||this.cards[0].wildValue!==a[0].wildValue)&&this.getNumCardsByRank(t)>=2){for(this.cards=this.cards.concat(a||[]),i=0;i<this.wilds.length;i++){var e;-1===(e=this.wilds[i]).rank&&(e.rank=a?a[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-5));break}if(this.cards.length>=5){var r=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[3].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=5}}class g extends t{constructor(s,a,t){super(s,"Flush",a,t)}solve(){for(var s in this.sfLength=0,this.resetWildCards(),this.suits){var a=this.getCardsForFlush(s,!0);if(a.length>=this.game.sfQualify){this.cards=a;break}}return this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+s+" High",this.sfLength=this.cards.length,this.cards.length<this.game.cardsInHand&&(this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)))),this.cards.length>=this.game.sfQualify}}class f extends t{constructor(s,a,t){super(s,"Straight",a,t)}solve(){var t,i;if(this.resetWildCards(),1===this.game.wheelStatus){if(this.cards=this.getWheel(),this.cards.length){for(var e=0,r=0;r<this.cards.length;r++)(t=this.cards[r]).value===this.game.wildValue&&(e+=1),0===t.rank&&(t.rank=s.indexOf("A"),t.wildValue="A","1"===t.value&&(t.value="A"));for(this.cards=this.cards.sort(a.sort);e<this.wilds.length&&this.cards.length<this.game.cardsInHand;e++)(t=this.wilds[e]).rank=s.indexOf("A"),t.wildValue="A",this.cards.push(t);return this.descr=this.name+", Wheel",this.sfLength=this.sfQualify,this.cards=this.cards.concat("A"===this.cards[0].value?this.nextHighest().slice(1,this.game.cardsInHand-this.cards.length+1):this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)),!0}this.resetWildCards()}for(this.cards=this.getGaps(),r=0;r<this.wilds.length;r++){if(t=this.wilds[r],i=this.getGaps(this.cards.length),this.cards.length===i.length)this.cards[0].rank<s.length-1?(t.rank=this.cards[0].rank+1,t.wildValue=s[t.rank],this.cards.push(t)):(t.rank=this.cards[this.cards.length-1].rank-1,t.wildValue=s[t.rank],this.cards.push(t));else for(var h=1;h<this.cards.length;h++)if(this.cards[h-1].rank-this.cards[h].rank>1){t.rank=this.cards[h-1].rank-1,t.wildValue=s[t.rank],this.cards.push(t);break}this.cards=this.cards.sort(a.sort)}return this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+" High",this.cards=this.cards.slice(0,this.game.cardsInHand),this.sfLength=this.cards.length,this.cards.length<this.game.cardsInHand&&(this.cards=this.cards.concat(0===this.cards[this.sfLength-1].rank?this.nextHighest().slice(1,this.game.cardsInHand-this.cards.length+1):this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)))),this.cards.length>=this.game.sfQualify}getGaps(i){var e,r,h,l,d,n,c,u,o,g=t.stripWilds(this.cardPool,this.game);for(e=g[0],r=g[1],h=0;h<r.length;h++)"A"===(l=r[h]).wildValue&&r.push(new a("1"+l.suit));for(r=r.sort(a.sort),i?h=r[0].rank+1:(i=this.game.sfQualify,h=s.length),d=[];h>0;h--){n=[],c=0;for(var f=0;f<r.length;f++)if(!((l=r[f]).rank>h))if(null===(o=(u=n[n.length-1])?u.rank-l.rank:h-l.rank))n.push(l);else{if(i<c+o+n.length)break;o>0&&(n.push(l),c+=o-1)}if(n.length>d.length&&(d=n.slice()),this.game.sfQualify-d.length<=e.length)break}return d}getWheel(){var i,e,r,h,l,d,n,c=t.stripWilds(this.cardPool,this.game);for(i=c[0],e=c[1],r=0;r<e.length;r++)"A"===(h=e[r]).wildValue&&e.push(new a("1"+h.suit));for(e=e.sort(a.sort),l=[],d=0,r=this.game.sfQualify-1;r>=0;r--){n=!1;for(var u=0;u<e.length;u++)if(!((h=e[u]).rank>r)){if(h.rank<r)break;l.push(h),n=!0;break}if(!n){if(!(d<i.length))return[];i[d].rank=r,i[d].wildValue=s[r],l.push(i[d]),d+=1}}return l}}class w extends t{constructor(s,a,t){super(s,"Two Three Of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++){var t=this.values[a];if(this.cards.length>0&&3===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(var i=0;i<this.wilds.length;i++)-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e));this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(3===this.getNumCardsByRank(a))for(this.cards=this.cards.concat(t),i=0;i<this.wilds.length;i++){var e;-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e))}}if(this.cards.length>=6){var r=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[3].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=6}}class k extends t{constructor(s,a,t){super(s,"Three of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(3===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<3;t++){var i=this.wilds[t];i.rank=this.cards?this.cards[0].rank:s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-3));break}return this.cards.length>=3&&(this.game.noKickers&&(this.cards.length=3),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=3}}class v extends t{constructor(s,a,t){super(s,"Three Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++){var t=this.values[a];if(this.cards.length>2&&2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(var i=0;i<this.wilds.length;i++)-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e));this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(this.cards.length>0&&2===this.getNumCardsByRank(a))for(this.cards=this.cards.concat(t||[]),i=0;i<this.wilds.length;i++)-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e));else if(2===this.getNumCardsByRank(a))for(this.cards=this.cards.concat(t),i=0;i<this.wilds.length;i++){var e;-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e))}}if(this.cards.length>=6){var r=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[2].toString().slice(0,-1)+"'s & "+this.cards[4].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=6}}class H extends t{constructor(s,a,t){super(s,"Two Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++){var t=this.values[a];if(this.cards.length>0&&2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(var i=0;i<this.wilds.length;i++)-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e));this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}if(2===this.getNumCardsByRank(a))for(this.cards=this.cards.concat(t),i=0;i<this.wilds.length;i++){var e;-1===(e=this.wilds[i]).rank&&(e.rank=t?t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?s.length-2:s.length-1,e.wildValue=s[e.rank],this.cards.push(e))}}if(this.cards.length>=4){this.game.noKickers&&(this.cards.length=4);var r=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[2].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=4}}class m extends t{constructor(s,a,t){super(s,"Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(this.values[a]||[]);for(var t=0;t<this.wilds.length&&this.cards.length<2;t++){var i=this.wilds[t];i.rank=this.cards?this.cards[0].rank:s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-2));break}return this.cards.length>=2&&(this.game.noKickers&&(this.cards.length=2),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=2}}class p extends t{constructor(s,a,t){super(s,"High Card",a,t)}solve(){this.cards=this.cardPool.slice(0,this.game.cardsInHand);for(var t=0;t<this.cards.length;t++)this.cards[t].value===this.game.wildValue&&(this.cards[t].wildValue="A",this.cards[t].rank=s.indexOf("A"));return this.game.noKickers&&(this.cards.length=1),this.cards=this.cards.sort(a.sort),this.descr=this.cards[0].toString().slice(0,-1)+" High",!0}}class b{constructor(s){this.baseHand=null,this.hiHand=null,this.loHand=null,this.game=null,this.loGame=new S("paigowpokerlo"),this.hiGame=new S("paigowpokerhi"),this.baseHand=Array.isArray(s)?t.solve(s,new S("paigowpokerfull")):s,this.game=this.baseHand.game}splitHouseWay(){var a,e,r=this.game.handValues[this.game.handValues.length-this.baseHand.rank];if(r===l)"K"===this.baseHand.cards[5].value&&"K"===this.baseHand.cards[6].value?(e=this.baseHand.cards.slice(5,7),a=this.baseHand.cards.slice(0,5)):(e=this.baseHand.cards.slice(0,2),a=this.baseHand.cards.slice(2,7));else if(r===d)"A"===this.baseHand.cards[0].wildValue&&"K"!==this.baseHand.cards[4].value?(a=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):(a=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6]));else if(r===i||r===g||r===f){var h,c=new S("paigowpokeralt"),p=t.solve(this.baseHand.cards,c),b=c.handValues.length-p.rank;if(c.handValues[b]===n)a=(h=this.getSFData(p.cards))[0],e=h[1];else if(c.handValues[b]===o)a=p.cards.slice(0,3),e=p.cards.slice(3,5),a=a.concat(p.cards.slice(5,7));else if(c.handValues[b]===k)a=(h=this.getSFData(p.cards))[0],e=h[1];else if(c.handValues[b]===v)e=p.cards.slice(0,2),a=p.cards.slice(2,7);else if(c.handValues[b]===H)p.cards[0].rank<6?"A"===p.cards[4].wildValue?(a=p.cards.slice(0,4),e=p.cards.slice(4,6),a.push(p.cards[6])):(a=(h=this.getSFData(p.cards))[0],e=h[1]):p.cards[0].rank<10?"A"===p.cards[4].wildValue?(a=p.cards.slice(0,4),e=p.cards.slice(4,6),a.push(p.cards[6])):(a=p.cards.slice(0,2),e=p.cards.slice(2,4),a=a.concat(p.cards.slice(4,7))):"A"!==p.cards[0].wildValue&&p.cards[2].rank<6&&"A"===p.cards[4].wildValue?(a=p.cards.slice(0,4),e=p.cards.slice(4,6),a.push(p.cards[6])):(a=p.cards.slice(0,2),e=p.cards.slice(2,4),a=a.concat(p.cards.slice(4,7)));else if(c.handValues[b]===m)if(p.cards[0].rank>=s.indexOf("T")&&p.cards[0].rank<=s.indexOf("K")&&"A"===p.cards[2].wildValue){var V=p.cards.slice(0,2);V=V.concat(p.cards.slice(3,7)),(h=this.getSFData(V))[0]?(a=h[0],(e=h[1]).push(p.cards[2])):(a=p.cards.slice(0,2),e=p.cards.slice(2,4),a=a.concat(p.cards.slice(4,7)))}else(h=this.getSFData(p.cards.slice(2,7)))[0]?(a=h[0],e=p.cards.slice(0,2)):(a=(h=this.getSFData(p.cards))[0],e=h[1]);else a=(h=this.getSFData(p.cards))[0],e=h[1]}else r===n?this.baseHand.cards[0].rank<6||this.baseHand.cards[0].rank<10&&"A"===this.baseHand.cards[4].wildValue?(a=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):(a=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):r===w?(e=this.baseHand.cards.slice(0,2),(a=this.baseHand.cards.slice(3,6)).push(this.baseHand.cards[2]),a.push(this.baseHand.cards[6])):r===u?(a=this.baseHand.cards.slice(0,3),e=this.baseHand.cards.slice(3,5),a=a.concat(this.baseHand.cards.slice(5,7))):r===o?"2"===this.baseHand.cards[3].wildValue&&"A"===this.baseHand.cards[5].wildValue&&"K"===this.baseHand.cards[6].wildValue?(a=this.baseHand.cards.slice(0,5),e=this.baseHand.cards.slice(5,7)):(a=this.baseHand.cards.slice(0,3),e=this.baseHand.cards.slice(3,5),a=a.concat(this.baseHand.cards.slice(5,7))):r===k?"A"===this.baseHand.cards[0].wildValue?(a=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):(a=this.baseHand.cards.slice(0,3),e=this.baseHand.cards.slice(3,5),a=a.concat(this.baseHand.cards.slice(5,7))):r===v?(e=this.baseHand.cards.slice(0,2),a=this.baseHand.cards.slice(2,7)):r===H?this.baseHand.cards[0].rank<6?(a=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):this.baseHand.cards[0].rank<10?"A"===this.baseHand.cards[4].wildValue?(a=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):(a=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):"A"!==this.baseHand.cards[0].wildValue&&this.baseHand.cards[2].rank<6&&"A"===this.baseHand.cards[4].wildValue?(a=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):(a=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):r===m?(a=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):(a=[this.baseHand.cards[0]],e=this.baseHand.cards.slice(1,3),a=a.concat(this.baseHand.cards.slice(3,7)));this.hiHand=t.solve(a,this.hiGame),this.loHand=t.solve(e,this.loGame)}getSFData(s){for(var t,e,r,h,l=[new i(s,new S("paigowpokersf7")),new i(s,new S("paigowpokersf6")),new i(s,this.game),new g(s,new S("paigowpokersf7")),new g(s,new S("paigowpokersf6")),new g(s,this.game),new f(s,new S("paigowpokersf7")),new f(s,new S("paigowpokersf6")),new f(s,this.game)],d=0;d<l.length;d++){var n=l[d];if(n.isPossible)if(7===n.sfLength?e=[n.cards[0],n.cards[1]]:6===n.sfLength?(e=[n.cards[0]],s.length>6&&e.push(n.cards[6])):s.length>5&&(e=[n.cards[5]],s.length>6&&e.push(n.cards[6])),e)e=e.sort(a.sort),(!r||r[0].rank<e[0].rank||r.length>1&&r[0].rank===e[0].rank&&r[1].rank<e[1].rank)&&(r=e,h=n);else if(!h){h=n;break}}return h&&(t=7===h.sfLength?h.cards.slice(2,7):6===h.sfLength?h.cards.slice(1,6):h.cards.slice(0,5)),[t,r]}qualifiesValid(){var s=t.winners([this.hiHand,this.loHand]);return!(1===s.length&&s[0]===this.loHand)}static winners(s,a){if(!s.qualifiesValid())return a.qualifiesValid()?-1:0;if(!a.qualifiesValid())return 1;var i=t.winners([s.hiHand,a.hiHand]),e=t.winners([s.loHand,a.loHand]);return 1===i.length&&i[0]===s.hiHand?1===e.length&&e[0]===s.loHand?1:0:1===e.length&&e[0]===s.loHand?0:-1}static setHands(s,a){var i=[];Array.isArray(s)&&(s=t.solve(s,new S("paigowpokerhi"))),i=i.concat(s.cardPool),Array.isArray(a)&&(a=t.solve(a,new S("paigowpokerlo"))),i=i.concat(a.cardPool);var e=new b(i);return e.hiHand=s,e.loHand=a,e}static solve(s){var a=new b(s=s||[""]);return a.splitHouseWay(),a}}var V={standard:{cardsInHand:5,handValues:[i,n,o,g,f,k,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:null,noKickers:!1},jacksbetter:{cardsInHand:5,handValues:[i,n,o,g,f,k,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["Jc","Jd","4h","3s","2c"],noKickers:!0},joker:{cardsInHand:5,handValues:[r,l,h,i,n,o,g,f,k,H,p],wildValue:"O",wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["4c","3d","3h","2s","2c"],noKickers:!0},deuceswild:{cardsInHand:5,handValues:[r,c,h,l,i,n,o,g,f,k,p],wildValue:"2",wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["5c","4d","3h","3s","3c"],noKickers:!0},threecard:{cardsInHand:3,handValues:[i,k,f,g,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:3,lowestQualified:["Qh","3s","2c"],noKickers:!1},fourcard:{cardsInHand:4,handValues:[n,i,k,g,f,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:4,lowestQualified:null,noKickers:!0},fourcardbonus:{cardsInHand:4,handValues:[n,i,k,g,f,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:4,lowestQualified:["Ac","Ad","3h","2s"],noKickers:!0},paigowpokerfull:{cardsInHand:7,handValues:[l,d,i,g,f,n,w,u,o,k,v,H,m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokeralt:{cardsInHand:7,handValues:[n,o,k,v,H,m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokersf6:{cardsInHand:7,handValues:[i,g,f],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:6,lowestQualified:null},paigowpokersf7:{cardsInHand:7,handValues:[i,g,f],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:7,lowestQualified:null},paigowpokerhi:{cardsInHand:5,handValues:[l,i,n,o,g,f,k,H,m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokerlo:{cardsInHand:2,handValues:[m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null}};class S{constructor(s){this.descr=s,this.cardsInHand=0,this.handValues=[],this.wildValue=null,this.wildStatus=0,this.wheelStatus=0,this.sfQualify=5,this.lowestQualified=null,this.noKickers=null,this.descr&&V[this.descr]||(this.descr="standard"),this.cardsInHand=V[this.descr].cardsInHand,this.handValues=V[this.descr].handValues,this.wildValue=V[this.descr].wildValue,this.wildStatus=V[this.descr].wildStatus,this.wheelStatus=V[this.descr].wheelStatus,this.sfQualify=V[this.descr].sfQualify,this.lowestQualified=V[this.descr].lowestQualified,this.noKickers=V[this.descr].noKickers}}function y(s){s.Card=a,s.Hand=t,s.Game=S,s.RoyalFlush=e,s.NaturalRoyalFlush=r,s.WildRoyalFlush=h,s.FiveOfAKind=l,s.StraightFlush=i,s.FourOfAKindPairPlus=d,s.FourOfAKind=n,s.FourWilds=c,s.TwoThreeOfAKind=w,s.ThreeOfAKindTwoPair=u,s.FullHouse=o,s.Flush=g,s.Straight=f,s.ThreeOfAKind=k,s.ThreePair=v,s.TwoPair=H,s.OnePair=m,s.HighCard=p,s.PaiGowPokerHelper=b}"undefined"!=typeof exports&&y(exports),"undefined"!=typeof window&&y(window)}();